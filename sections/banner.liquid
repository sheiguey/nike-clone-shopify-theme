<section >
    <div class="banner-wrapper">
        <div class="slide-text"  id="text1">Members: Free Shipping!</div>
        <div class="slide-text"  id="text2">Save up to 40%</div>
        <div class="slide-text"  id="text3">Get Your Gear Faster</div>
    </div>
</section> 

<style>
    .banner-wrapper{ 
        padding: 4rem;
        background-color: {{section.settings.background }} | '#8080808c';
        color:{{section.settings.textColor}};
    }

    .slide-text{
        position: absolute;
        top:155px;
        left: -150%;
        transform: translate(0,-40%);
        color: black;
        padding: 5px;
        font-size: 20px;
        transition: left 0.5s ease-in-out;
    }
</style>

<script>

document.addEventListener("DOMContentLoaded",slideShow);

  function slideShow(){
    const text1 = document.getElementById('text1');
    const text2 = document.getElementById('text2');
    const text3 = document.getElementById('text3');

    const texts=[text1,text2,text3]
    let currentIndex=0;

    function slideToMiddle(el) {
          el.style.left = '40%'
      }

    function resetPosition(el){
        el.style.left='-100%'
    }

    function slideText(){
        resetPosition(texts[currentIndex]);

        currentIndex=(currentIndex + 1) % texts.length;
        
        slideToMiddle(texts[currentIndex]);
    }

    slideToMiddle(texts[currentIndex]);

    setInterval(slideText,3000)
  }
</script>

{%  schema  %}  
{
    "name": "Banner",
    "settings": [
        {
        "type": "color",
        "id": "background",
        "label": "Background color",
        "default": "#F4F4F4"
        },
        {
        "type": "color",
        "id": "textColor",
        "label": "Text color",
        "default": "#000000"
        }
    ],
    "presets":[
        {
            "name":"banner"
        }
    ]
}

{% endschema %} 